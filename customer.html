<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <title>RJVC Customer Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    *{box-sizing:border-box;font-family:system-ui,-apple-system,"Segoe UI",sans-serif;}
    body{margin:0;background:#f3f4f6;}
    h1{margin:0;}
    .page{padding:16px;}
    .card{
      background:#fff;border-radius:16px;padding:20px;
      box-shadow:0 8px 25px rgba(0,0,0,.15);max-width:650px;margin:auto;
    }
    .wallet{
      border-radius:14px;padding:14px;color:#fff;margin-top:14px;
    }
    .wallet-comm{background:#0f172a;}
    .wallet-bonus{background:#14532d;}
    .wallet-label{font-size:13px;opacity:.9;}
    .wallet-amount{font-size:26px;font-weight:700;}
    .btn{padding:10px 18px;border-radius:999px;border:1px solid #d1d5db;background:#fff;}
    .small{font-size:14px;color:#555;}
  </style>
</head>

<body>

<!-- LOGIN PAGE -->
<div id="loginPage" class="page" style="display:flex;justify-content:center;align-items:center;min-height:100vh;">
  <div class="card" style="max-width:480px;width:100%;">
    <h1 style="font-size:22px;margin-bottom:10px;">Customer Login</h1>

    <label>Customer Name</label>
    <input id="custName" style="width:100%;padding:10px;border-radius:10px;border:1px solid #ccc;" />

    <label style="margin-top:10px;">Password</label>
    <input id="custPass" type="password" style="width:100%;padding:10px;border-radius:10px;border:1px solid #ccc;" />

    <button id="loginBtn" style="margin-top:14px;width:100%;padding:12px;background:#2563eb;color:#fff;border:none;border-radius:10px;font-size:16px;">
      Login
    </button>

    <div id="loginMsg" style="color:red;font-size:13px;margin-top:8px;display:none;"></div>

    <p class="small" style="margin-top:10px;">
      рдЖрдк рдХрд┐рд╕реА рднреА customer рдХреА ID рдЦреЛрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрдЧрд░ рдирд╛рдо + рд╕рд╣реА password рдкрддрд╛ рд╣реЛред
    </p>
  </div>
</div>

<!-- DASHBOARD PAGE -->
<div id="dashboardPage" style="display:none;">
  <div class="page">
    <div class="card">

      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>
          <h1 style="font-size:20px;">Customer Dashboard</h1>
          <div id="welcomeText" class="small"></div>
        </div>
        <button id="logoutBtn" class="btn">Logout</button>
      </div>

      <!-- ЁЯМЯ RJVC INTRO (SIMPLE TEXT, NO BOX) -->
      <div style="margin-top:18px;line-height:1.6;font-size:14.5px;color:#333;">
        <p><b>тнР RJVC тАУ рд╡реЛ System рдЬрд┐рд╕рд╕реЗ рдЖрдк тАЬрд╕реЛрддреЗ рд╣реБрдП рднреАтАЭ рдХрдорд╛рдИ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред</b></p>
        <p>RJVC рдЖрдкрдХреЗ mobile рдХреЛ рдЖрдкрдХреА рдХрдорд╛рдИ рдХрд╛ auto-earning engine рдмрдирд╛ рджреЗрддрд╛ рд╣реИред</p>

        <ul style="margin-left:16px;">
          <li>рдХреЛрдИ App рдирд╣реАрдВ</li>
          <li>рдХреЛрдИ target рдирд╣реАрдВ</li>
          <li>рдХреЛрдИ time limit рдирд╣реАрдВ</li>
          <li>рдмрд╕ рдПрдХ рдмрд╛рд░ рд╕реЗрдЯ рдХрд░реЛ тАФ earning рдЕрдкрдиреЗ рдЖрдк рд╣реЛрддреА рд░рд╣рддреА рд╣реИ</li>
        </ul>

        <p><b>ЁЯТб рдЕрдЧрд░ рдЕрднреА рдирд╣реАрдВ рдЬреБрдбрд╝реЗрдВрдЧреЗ рддреЛ рдиреБрдХрд╕рд╛рди рдХреНрдпрд╛?</b></p>
        <ul style="margin-left:16px;">
          <li>AI рдЕрдЧрд▓реЗ 1тАУ2 рд╕рд╛рд▓ рдореЗрдВ skill рдХреА value рдХрдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ</li>
          <li>рдХрдВрдкрдирд┐рдпрд╛рдБ cost-cut рд╢реБрд░реВ рдХрд░ рдЪреБрдХреА рд╣реИрдВ</li>
          <li>Backup income рди рд╣реЛрдиреЗ рд╕реЗ tension рдмрдврд╝реЗрдЧреА</li>
          <li>рдЖрдЬ рдХреЗ рдореМрдХреЗ 2 рд╕рд╛рд▓ рдмрд╛рдж рдирд╣реАрдВ рдорд┐рд▓реЗрдВрдЧреЗ</li>
        </ul>

        <p>
          ЁЯСЙ рдиреМрдХрд░реА рд░рд╣реЗ рдпрд╛ рди рд░рд╣реЗтАж <b>extra income рдЬрд╝рд░реВрд░реА</b> рд╣реИ тАФ  
          RJVC рдЖрдкрдХреА рд▓рд╛рдЗрдлрд▓рд╛рдЗрди рдмрди рд╕рдХрддрд╛ рд╣реИред
        </p>
      </div>

      <!-- COMMISSION WALLET -->
      <div class="wallet wallet-comm">
        <div class="wallet-label">COMMISSION WALLET</div>
        <div class="wallet-amount" id="commWalletText">тВ╣0</div>
      </div>

      <!-- BONUS WALLET -->
      <div class="wallet wallet-bonus">
        <div class="wallet-label">BONUS WALLET</div>
        <div class="wallet-amount" id="bonusWalletText">тВ╣0</div>
      </div>

    </div>
  </div>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBDw_FQyDzWZLJORFtOwZqrFRfeS5tOFSw",
    authDomain: "rjvc-plan.firebaseapp.com",
    projectId: "rjvc-plan",
    storageBucket: "rjvc-plan.firebasestorage.app",
    messagingSenderId: "265431528728",
    appId: "1:265431528728:web:c3dc4b8e8f3ae4469a1a6d"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const usersCol = db.collection("Users");

  let unsub = null;

  document.getElementById("loginBtn").onclick = async ()=>{
    const name = custName.value.trim();
    const pass = custPass.value.trim();
    loginMsg.style.display="none";

    if(!name || !pass){
      loginMsg.innerText="рдирд╛рдо рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб рднрд░реЗрдВ";
      loginMsg.style.display="block";
      return;
    }

    const snap = await usersCol
      .where("name","==",name)
      .where("password","==",pass)
      .limit(1)
      .get();

    if(snap.empty){
      loginMsg.innerText="рдЧрд▓рдд рдирд╛рдо рдпрд╛ рдкрд╛рд╕рд╡рд░реНрдб!";
      loginMsg.style.display="block";
      return;
    }

    const docId = snap.docs[0].id;
    openDashboard(docId);
  };

  function openDashboard(id){
    if(unsub) unsub();

    unsub = usersCol.doc(id).onSnapshot(d=>{
      const data = d.data();
      welcomeText.innerText = "рд╕реНрд╡рд╛рдЧрдд рд╣реИ, " + (data.name||"") + " рдЬреА";
      commWalletText.innerText = "тВ╣" + (data.commissionWallet||0);
      bonusWalletText.innerText = "тВ╣" + (data.bonusWallet||0);

      loginPage.style.display="none";
      dashboardPage.style.display="block";
    });
  }

  logoutBtn.onclick = ()=>{
    if(unsub) unsub();
    unsub=null;
    dashboardPage.style.display="none";
    loginPage.style.display="flex";
    custName.value="";
    custPass.value="";
  };
</script>

</body>
</html>
