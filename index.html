<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Binary Tree – Full View (Zoom)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body{
    margin:0;
    background:#020617;
    color:#e5e7eb;
    font-family:system-ui;
  }
  header{
    padding:10px 14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    background:#020617;
  }
  button{
    background:#2563eb;
    color:#fff;
    border:none;
    border-radius:20px;
    padding:6px 14px;
    cursor:pointer;
  }
  svg{
    width:100%;
    height:calc(100vh - 50px);
    background:#020617;
  }
  .node circle{
    fill:#2563eb;
    stroke:#94a3b8;
    stroke-width:2;
  }
  .node text{
    fill:#fff;
    font-size:12px;
    text-anchor:middle;
    dominant-baseline:middle;
    pointer-events:none;
  }
  .link{
    fill:none;
    stroke:#94a3b8;
    stroke-width:2;
  }
</style>

</head>
<body>

<header>
  <h3>Binary Tree – Full View</h3>
  <button onclick="resetZoom()">Reset Zoom</button>
</header>

<svg id="treeSvg"></svg>

<!-- D3.js -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<script>
/* =========================
   DEMO TREE DATA
   (Firebase later)
========================= */
const treeData = {
  name: "ROOT",
  children: [
    {
      name: "LEFT",
      children: [
        { name: "L-L" },
        { name: "L-R" }
      ]
    },
    {
      name: "RIGHT",
      children: [
        { name: "R-L" },
        { name: "R-R" }
      ]
    }
  ]
};

/* =========================
   SVG + ZOOM SETUP
========================= */
const svg = d3.select("#treeSvg");
const width = window.innerWidth;
const height = window.innerHeight;

const g = svg.append("g")
  .attr("transform", "translate(40,40)");

const zoom = d3.zoom()
  .scaleExtent([0.2, 3])   // zoom out / zoom in
  .on("zoom", (event) => {
    g.attr("transform", event.transform);
  });

svg.call(zoom);

function resetZoom(){
  svg.transition().duration(500).call(
    zoom.transform,
    d3.zoomIdentity.translate(40,40).scale(1)
  );
}

/* =========================
   TREE LAYOUT
========================= */
const root = d3.hierarchy(treeData);

const treeLayout = d3.tree()
  .nodeSize([80, 120]); // auto spacing

treeLayout(root);

/* =========================
   LINKS
========================= */
g.selectAll(".link")
  .data(root.links())
  .enter()
  .append("path")
  .attr("class","link")
  .attr("d", d3.linkVertical()
    .x(d => d.x)
    .y(d => d.y)
  );

/* =========================
   NODES
========================= */
const node = g.selectAll(".node")
  .data(root.descendants())
  .enter()
  .append("g")
  .attr("class","node")
  .attr("transform", d => `translate(${d.x},${d.y})`);

node.append("circle")
  .attr("r", 18);

node.append("text")
  .attr("dy","0.35em")
  .text(d => d.data.name);
</script>

</body>
</html>
